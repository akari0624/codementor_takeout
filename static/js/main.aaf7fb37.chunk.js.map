{"version":3,"sources":["actions/favorite_article/type.js","actions/article/type.js","actions/extra_data/type.js","actions/favoriteId/index.js","App.js","index.js","reportWebVitals.js","reducers/Article/index.js","reducers/FavoriteId/index.js","reducers/FavoriteArticles/index.js","reducers/ExtraData/index.js","reducers/index.js","actions/favoriteId/type.js"],"names":["ADD_FAVORITE_ARTICLES","REMOVE_FAVORITE_ARTICLE","REPLACE_ARTICLES","KEEP_SEARCH_KEYWORD","addFavorite","createAction","ADD_FAVORITE","payload","deleteFavorite","DELETE_FAVORITE","ON_PAGE_DISMISS","SearchPage","lazy","FavoritePage","FallbackComp","App","appStore","useDispatch","useEffect","window","addEventListener","evt","fallback","basename","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","handleActions","state","articles","FAVORITE_SET_KEY","InitFavoriteIdsState","initialState","fSet","localStorage","getItem","lastSetData","JSON","parse","Set","getInitialFavoriteIdState","_newSet","add","delete","setItem","stringify","filter","a","id","searchKeyword","rootReducer","combineReducers","article","articlesReducer","favorite","favoriteIdReducer","favoriteArticles","favoriteArticlesReducer","extraData","extraDataReducer","applyMiddleware","createStore","createStoreWithMiddleware","reducers","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.aaf7fb37.chunk.js","sourcesContent":["export const ADD_FAVORITE_ARTICLES = 'ADD_FAVORITE_ARTICLES'\nexport const REMOVE_FAVORITE_ARTICLE = 'REMOVE_FAVORITE_ARTICLE'\n","export const REPLACE_ARTICLES = 'REPLACE_ARTICLES'\n","export const KEEP_SEARCH_KEYWORD = 'KEEP_SEARCH_KEYWORD'\n","import { createAction } from 'redux-actions'\nimport { ADD_FAVORITE, DELETE_FAVORITE, ON_PAGE_DISMISS } from './type'\n\nexport const addFavorite = createAction(ADD_FAVORITE, (payload) => payload)\n\nexport const deleteFavorite = createAction(\n  DELETE_FAVORITE,\n  (payload) => payload\n)\n\nexport const onPageDismiss = createAction(ON_PAGE_DISMISS, (payload) => payload)\n","import { Suspense, lazy, useEffect } from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { onPageDismiss } from 'actions/favoriteId'\nimport './App.css'\n\nconst SearchPage = lazy(() => import('pages/Search'))\nconst FavoritePage = lazy(() => import('pages/Favorite'))\n\nconst FallbackComp = () => <div>loading...</div>\n\nfunction App() {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    window.addEventListener('beforeunload', (evt) => {\n      // dispatch(onPageDismiss())\n    })\n  }, [])\n  return (\n    <Suspense fallback={FallbackComp}>\n      <BrowserRouter basename=\"\">\n        <Switch>\n          <Route path=\"/search\" component={SearchPage} />\n          <Route path=\"/favorite\" component={FavoritePage} />\n          <Route path=\"/\" component={SearchPage} />\n        </Switch>\n      </BrowserRouter>\n    </Suspense>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reducers from './reducers';\n\nconst createStoreWithMiddleware = applyMiddleware()(createStore);\n\nlet appStore;\n\nif (process.env.NODE_ENV === 'production') {\n  appStore = createStoreWithMiddleware(reducers);\n} else {\n  appStore = createStoreWithMiddleware(\n    reducers,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={appStore}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { handleActions } from 'redux-actions';\nimport {REPLACE_ARTICLES} from 'actions/article/type'\n\nconst InitArticleState = {\n  articles: []\n}\n\n\nexport default handleActions(\n  {\n    [REPLACE_ARTICLES]: (state, { payload }) => {\n      return {...state, articles: payload}\n    },\n  },\n  InitArticleState\n);\n","import { handleActions } from 'redux-actions';\nimport { ADD_FAVORITE, DELETE_FAVORITE, ON_PAGE_DISMISS } from 'actions/favoriteId/type'\n\nconst FAVORITE_SET_KEY = 'favoriteSet';\n\nconst getInitialFavoriteIdState = () => {\n  const fSet = window.localStorage.getItem(FAVORITE_SET_KEY);\n  let initialState;\n  if (!fSet) {\n    initialState = new Set();\n  } else {\n    const lastSetData = JSON.parse(fSet);\n    initialState = new Set([...lastSetData]);\n  }\n  return initialState;\n};\n\nconst InitFavoriteIdsState = getInitialFavoriteIdState()\n\nexport default handleActions(\n  {\n    [ADD_FAVORITE]: (state, { payload }) => {\n      const _newSet = new Set([...state])\n      _newSet.add(payload)\n      return _newSet\n    },\n    [DELETE_FAVORITE]: (state, { payload }) => {\n      const _newSet = new Set([...state])\n      _newSet.delete(payload)\n      return _newSet\n    },\n    [ON_PAGE_DISMISS]: (state) => {\n      window.localStorage.setItem(FAVORITE_SET_KEY, JSON.stringify([...state]));\n    },\n  },\n  InitFavoriteIdsState\n);\n","import { handleActions } from 'redux-actions';\nimport { ADD_FAVORITE_ARTICLES, REMOVE_FAVORITE_ARTICLE } from 'actions/favorite_article/type'\n\nconst InitFavoriteArticleState = []\n\n\nexport default handleActions(\n  {\n    [ADD_FAVORITE_ARTICLES]: (state, { payload }) => {\n      \n      return [...state, payload]\n    },\n    // payload: articleId\n    [REMOVE_FAVORITE_ARTICLE]: (state, {payload}) => {\n      \n      return state.filter(a => a.id !== payload)\n    },\n  },\n  InitFavoriteArticleState\n);\n","import { handleActions } from 'redux-actions';\nimport {KEEP_SEARCH_KEYWORD} from 'actions/extra_data/type'\n\nconst InitExtraData = {\n  searchKeyword: ''\n}\n\n\nexport default handleActions(\n  {\n    [KEEP_SEARCH_KEYWORD]: (state, { payload }) => {\n      \n      return {...state, searchKeyword: payload}\n    },\n  },\n  InitExtraData\n);\n","import { combineReducers } from 'redux';\nimport articlesReducer from './Article';\nimport favoriteIdReducer from './FavoriteId'\nimport favoriteArticlesReducer from './FavoriteArticles'\nimport extraDataReducer from './ExtraData'\n\nconst rootReducer = combineReducers({\n  article: articlesReducer,\n  favorite: favoriteIdReducer,\n  favoriteArticles: favoriteArticlesReducer,\n  extraData: extraDataReducer,\n});\n\nexport default rootReducer;\n","export const ADD_FAVORITE = 'ADD_FAVORITE'\nexport const DELETE_FAVORITE = 'DELETE_FAVORITE'\nexport const ON_PAGE_DISMISS = 'ON_PAGE_DISMISS'\n"],"sourceRoot":""}
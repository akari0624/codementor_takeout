{"version":3,"sources":["layout/search_and_favorite/index.js","actions/favorite_article/index.js","components/SaveButton/index.js","components/ArticleItem/index.js","components/ArticleList/index.js","pages/Favorite/components/ArticleList/index.js","pages/Favorite/index.js"],"names":["LayoutWrapper","styled","main","TabsBackground","div","HighlightTab","button","NotHighlightTab","SearchAndFavoriteTabLayout","children","history","useHistory","handleClick","path","push","url","name","map","idx","location","pathname","type","onClick","addFavoriteArticle","createAction","ADD_FAVORITE_ARTICLES","payload_articleData","removeFavoriteArticle","REMOVE_FAVORITE_ARTICLE","payload_articleId","SaveBTN","span","saved","SaveButton","isSaved","id","articleData","rest","useState","_isSaved","set_IsSaved","dispatch","useDispatch","data-testid","deleteFavorite","prev","addFavorite","toggleSave","ItemWrapper","ArticleItem","title","author_name","categories","showSave","setShowSave","onMouseEnter","onMouseLeave","className","c","ArticleList","data","length","d","favoriteArticlesSelector","state","favoriteArticles","favoriteIdsSelector","favorite","ArticleListBind","props","useSelector","favoriteIds","checkedFavoriteArticles","useMemo","a","has","Favorite"],"mappings":"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","file":"static/js/5.5ec55306.chunk.js","sourcesContent":["import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nconst LayoutWrapper = styled.main`\n  width: 100vw;\n  height: fill-available;\n`\n\nconst TabsBackground = styled.div`\n  background-color: #efeeef;\n  width: 100vw;\n  height: 70px;\n  display: flex;\n  align-items: flex-end;\n`\n\nconst HighlightTab = styled.button`\n  background-color: #ffffff;\n  color: #000000;\n  padding: 0.5rem 1.2rem;\n  border: none;\n`\n\nconst NotHighlightTab = styled.button`\n  background-color: #efeeef;\n  color: #a9a8a9;\n  padding: 0.5rem 1.2rem;\n  border: none;\n`\n\nexport default function SearchAndFavoriteTabLayout({ children }) {\n  const history = useHistory()\n\n  const RedirectButtons = [\n    {\n      url: '/search',\n      name: 'Search',\n    },\n    {\n      url: '/favorite',\n      name: 'Favorite',\n    },\n  ]\n\n  const handleClick = (path) => {\n    history.push(path)\n  }\n  return (\n    <LayoutWrapper>\n      <TabsBackground>\n        {RedirectButtons.map(({ url, name }, idx) => (\n          history?.location?.pathname === url || (history?.location?.pathname === '/' && idx === 0) ? (\n            <HighlightTab\n              key={name}\n              type=\"button\"\n              onClick={() => {\n                handleClick(url)\n              }}\n            >\n              {name}\n            </HighlightTab>\n          ) : (\n            <NotHighlightTab\n              key={name}\n              type=\"button\"\n              onClick={() => {\n                handleClick(url)\n              }}\n            >\n              {name}\n            </NotHighlightTab>\n          )\n        ))}\n      </TabsBackground>\n      {children}\n    </LayoutWrapper>\n  )\n}\n","import { createAction } from 'redux-actions'\nimport { ADD_FAVORITE_ARTICLES, REMOVE_FAVORITE_ARTICLE } from './type'\n\nexport const addFavoriteArticle = createAction(\n  ADD_FAVORITE_ARTICLES,\n  (payload_articleData) => payload_articleData\n)\n\nexport const removeFavoriteArticle = createAction(\n  REMOVE_FAVORITE_ARTICLE,\n  (payload_articleId) => payload_articleId\n)\n","import { useState } from 'react'\nimport styled from 'styled-components'\nimport { useDispatch } from 'react-redux'\nimport { addFavorite, deleteFavorite } from 'actions/favoriteId'\nimport {\n  addFavoriteArticle,\n  removeFavoriteArticle,\n} from 'actions/favorite_article'\n\nconst SaveBTN = styled.span`\n  padding: 2px 3px;\n  border: 1px solid #000000;\n  background-color: ${({ saved }) => (saved ? '#CCCBCD' : '#FFFFFF')};\n  color: ${({ saved }) => (saved ? '#FFFFFF' : '#000000')};\n  &:hover {\n    cursor: pointer;\n  }\n`\n\nconst toggleSave = (isSaved, id, set_IsSaved, dispatch, articleData) => {\n  if (!isSaved) {\n    // do save\n    dispatch(addFavorite(id))\n    dispatch(addFavoriteArticle(articleData))\n    set_IsSaved((prev) => !prev)\n  } else {\n    // do delete from favorite\n    dispatch(deleteFavorite(id))\n    dispatch(removeFavoriteArticle(id))\n    set_IsSaved((prev) => !prev)\n  }\n}\n\nexport const SaveBTN_testId = 'saveBTN_id'\n\nconst SaveButton = ({ isSaved, id, articleData, ...rest }) => {\n  const [_isSaved, set_IsSaved] = useState(isSaved)\n\n  const dispatch = useDispatch()\n  return (\n    <SaveBTN\n      data-testid={SaveBTN_testId}\n      {...rest}\n      saved={_isSaved}\n      onClick={() =>\n        toggleSave(_isSaved, id, set_IsSaved, dispatch, articleData)\n      }\n    >\n      {_isSaved ? 'Saved' : 'Save'}\n    </SaveBTN>\n  )\n}\n\nexport default SaveButton\n","import {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport SaveButton from 'components/SaveButton'\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  border-bottom: 1px solid grey;\n  margin-bottom: 3px;\n  padding: .5rem 1rem;\n  .title {\n    font-size: 1.5rem;\n    font-weight: bold;\n    margin-bottom: .4rem;\n  }\n  .authorAndTags {\n    display: flex;\n    .author {\n      margin-right: 1rem;\n    }\n    .tags {\n      span {\n        background-color: #efeeef;\n        padding: 2px 3px;\n        margin-right: .5rem;\n      }\n    }\n    .show_on_hover {\n      position: absolute;\n      right: 2rem;\n      bottom: .8rem;\n    }\n  }\n`\n\nfunction ArticleItem({ articleData, ...rest }) {\n  const { id, title, author_name, categories, isSaved } = articleData\n  const [showSave, setShowSave] = useState(false)\n  return (\n    <ItemWrapper {...rest} onMouseEnter={() => {setShowSave(true)}} onMouseLeave={() => {setShowSave(false)}} >\n      <div className=\"title\">{title}</div>\n      <div className=\"authorAndTags\">\n        <div className=\"author\">{author_name}</div>\n        <div className=\"tags\">\n          {categories.map((c) => (\n            <span key={c}>{c}</span>\n          ))}\n        </div>\n        {showSave && <SaveButton className=\"show_on_hover\" isSaved={isSaved} id={id} articleData={articleData} />}\n      </div>\n    </ItemWrapper>\n  )\n}\n\nArticleItem.propTypes = {}\n\nexport default ArticleItem\n","import ArtileItem from 'components/ArticleItem'\n\nexport const ITEM_TEST_ID = 'id_article'\n\nfunction ArticleList({ data }) {\n  if (data?.length === 0 || !data) {\n    return <div>no result</div>\n  }\n  return (\n    <div>\n      {data.map((d) => (\n        <ArtileItem data-testid={ITEM_TEST_ID} key={d.id} articleData={d} />\n      ))}\n    </div>\n  )\n}\n\nexport default ArticleList\n","import {useMemo} from 'react'\nimport PropTypes from 'prop-types'\nimport ArticleList from 'components/ArticleList'\nimport { useSelector } from 'react-redux'\n\nconst favoriteArticlesSelector = (state) => state?.favoriteArticles\nconst favoriteIdsSelector = (state) => state?.favorite\n\nfunction ArticleListBind(props) {\n  const favoriteArticles = useSelector(favoriteArticlesSelector)\n   const favoriteIds = useSelector(favoriteIdsSelector)\n\n\n  const checkedFavoriteArticles = useMemo(\n    () =>\n      favoriteArticles.map((a) => {\n        if (favoriteIds.has(a.id)) {\n          return {...a, isSaved: true}\n        } else {\n          return {...a, isSaved: false}\n        }\n      }),\n    [favoriteArticles, favoriteIds]\n  )\n\n  return <ArticleList data={checkedFavoriteArticles} />\n}\n\nArticleListBind.propTypes = {}\n\nexport default ArticleListBind\n","import PropTypes from 'prop-types'\nimport FavoriteArticleList from './components/ArticleList'\nimport SearchAndFavoriteTabLayout from 'layout/search_and_favorite'\n\nfunction Favorite(props) {\n  return (\n    <SearchAndFavoriteTabLayout>\n      <FavoriteArticleList />\n    </SearchAndFavoriteTabLayout>\n  )\n}\n\nFavorite.propTypes = {\n\n}\n\nexport default Favorite\n\n"],"sourceRoot":""}